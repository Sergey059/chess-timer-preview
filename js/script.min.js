(()=>{"use strict";const e=function(){var e=document.getElementById("popup-settings");e.classList.contains("active")&&e.classList.remove("active")},t=function(){var e,t=document.querySelector(".players__btn--white"),n=document.querySelector(".players__btn--black"),a=document.querySelector("#gamer-white").parentElement,c=document.querySelector("#gamer-black").parentElement,s=document.querySelector(".players__replace"),i=document.querySelector("#white-timer"),l=document.querySelector("#black-timer"),o=new Audio("drumroll.mp3"),r=new Audio("tick.mp3"),d=10,m=10,u=1;function v(){s.classList.remove("active"),t.classList.add("active"),a.classList.add("active"),i.textContent=d,l.textContent=m,e=setInterval((function(){1===u?(d--,t.classList.add("active"),a.classList.add("active"),i.textContent=d,2===d&&o.play(),d>0?d<6&&r.play():(clearInterval(e),t.classList.remove("active"),a.classList.remove("active")),console.log(d)):(m--,n.classList.add("active"),c.classList.add("active"),l.textContent=m,2===m&&o.play(),m>0?m<6&&r.play():(clearInterval(e),n.classList.remove("active"),c.classList.remove("active")),console.log(m))}),1e3)}function g(s){clearInterval(e),1===s?(d=10,u=2,v(),o.pause(),o.currentTime=0,t.classList.remove("active"),n.classList.add("active"),a.classList.remove("active"),c.classList.add("active")):(m=10,u=1,v(),o.pause(),o.currentTime=0,n.classList.remove("active"),t.classList.add("active"),c.classList.remove("active"),a.classList.add("active")),console.log("Ход переходит к Игроку "+u)}v(),t.addEventListener("click",(function(){return g(1)})),n.addEventListener("click",(function(){return g(2)})),document.addEventListener("keydown",(function(e){"ControlLeft"===e.code&&g(1),"ControlRight"===e.code&&g(2)}))},n=function(){var e=document.querySelector(".timer__list"),n=document.getElementById("start-pause"),a=document.getElementById("preload");n.addEventListener("click",(function(){var n=5;a.classList.add("active");var c=function(){e&&e.querySelectorAll(".timer__item").forEach((function(e,t){e.classList.toggle("active",n===t)}))},s=setInterval((function(){n>0?(0==--n?(new Audio("gong.mp3").play(),setTimeout(t,1e3)):new Audio("tick.mp3").play(),c()):(a.classList.remove("active"),clearInterval(s),n=5,c())}),1e3)}))},a=function(){var e=document.getElementById("gamer-1"),t=document.getElementById("gamer-2"),n=document.getElementById("timer"),a={gamer1:e.value,gamer2:t.value,timer:n.value};localStorage.setItem("myData",JSON.stringify(a))},c=function(){var e=document.getElementById("popup-settings");e&&e.classList.add("active")},s=function(){var e=document.getElementById("gamer-1").value,t=document.getElementById("gamer-2").value;document.getElementById("gamer-1").value=t,document.getElementById("gamer-2").value=e};window.addEventListener("DOMContentLoaded",(function(){window.addEventListener("load",(function(){document.getElementById("open-settings").addEventListener("click",c),document.querySelector("#swap-popup-inputs").addEventListener("click",s),document.getElementById("save-settings").addEventListener("click",a),document.getElementById("save-settings").addEventListener("click",e),n()}))}))})();